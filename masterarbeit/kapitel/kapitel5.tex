%%% TeX-master: "../main.tex"
% kapitel5.tex
\chapter{Konkret getestete Applikationen}\label{chapter:concretetests}


Dieses Kapitel stellt nun einige Ergebnisse, die mittels des nach dem Konzepts tatsächlich
implementierten vollautomatischen GUI-Crawler und -Tester erzeugt wurden.
Als getestetes Programm dient hierbei eine Enwicklerversion der von der
\textbf{e-Spirit AG} entwickelten Software \textbf{FirstSpirit} 
\footnote{\url{ http://www.e-spirit.com/de/produkt/arbeiten-mit-firstspirit/usability-fuer-redakteure/ }},
Version 5.2 DEV 201. Entwicklerversionen dieser Software enthalten zusätzliche,
dem normalen Nutzer unzugängliche Schaltflächen und Funktionen.


\section{Resultate}\label{section:testresults}


Wie in den Graphdarstellungen zu sehen ist, enthält diese Version von
FirstSpirit etwa 34 einzigartige Fenster bzw. Zustände. Sie gehen alle vom
Hauptfenster des Programms bzw. dem Zustand nach dem Programmstart aus,
einige wenige sind dahingegen tiefer abzweigend. Die Zahl einer im
Laufe eines vollen Durchgangs betätigter Eingabeelemente liegt bei
über 800. Dies legt nahe, dass umfangreiche interne Zustandsänderungen
möglich sind, die nicht direkt in von außen sichtbaren geänderten
Programmzuständen resultieren.

Bedenkt man die Natur von FirstSpirit, ist dies keine große Überraschung.
FirstSpirit ist ein Content Management System bzw. CMS, im Grunde also
ein Client bzw. Editor für Webinhalte. Da der Autotester lediglich den Editor testet,
ohne Rücksicht auf die Inhalte nehmen zu wollen oder auch zu können,
hat die Mehrzahl der getätigten Eingaben keinen für das Konzept erkennbaren
Effekt. Änderungen am editierten Projekt haben aber für den Editor durchaus
-- wie auch immer geartete -- langfristige Konsequenzen, und es ist für
einen produktiven Einsatz des Autotesters anzuraten, solche von Seiteneffekten
beeinflussten Daten vor jedem Testdurchlauf wieder auf einen ursprünglichen
Zustand zurückzusetzen.


\begin{sidewaysfigure}
	\centering
	\includegraphics[width=0.85\textwidth]{bilder/screenshot_freespirit.png}
	\caption{Screenshot der e-Spirit CMS-Anwendung FirstSpirit
	sowie anhängigem Swing Explorer, der den Komponentenbaum der Applikation darstellt}
	\label{fig:screenshot_freespirit}
\end{sidewaysfigure}

\begin{figure}
	\centering
	\includegraphics[width=0.85\textwidth]{bilder/model_firstspirit_notext.png}
	\caption{mit Gephi und dem Yifan Hu Algorithmus \cite{hu2005efficient}
    sowie noch für Lesbarkeit maneull angepasste visualierte Graphausgabe 
	des Autotesters über FirstSpirit, hoher Zoomfaktor, keine Beschriftungen.
	Die Pfeile des gerichteten Graphen sind so sichtbar.}
	\label{fig:model_firstspirit_notext}
\end{figure}

\begin{sidewaysfigure}
	\centering
	\includegraphics[width=0.85\textwidth]{bilder/model_freespirit.png}
	\caption{mit Gephi und dem Yifan Hu Algorithmus \cite{hu2005efficient}
    sowie noch für Lesbarkeit maneull angepasste visualierte Graphausgabe 
	des Autotesters über FirstSpirit bei einem der ergiebigeren Durchläufe.
	Beschriftungen der Knoten sind deaktiviert.}
	\label{fig:model_freespirit_06.10.2015}
\end{sidewaysfigure}



Die Knoten sind in Dreiergruppen angeordnet: Ein Ursprungsfenster, ein Übergangsknoten
(bzw. ein Wort des Modells), sowie der resultierende Zustand bzw. das sich öffnende Fenster.
Dies ist schlicht eine Frage der Lesbarkeit -- anstelle der mittleren Knoten für Übergänge sollten
eigentlich einfach beschriftete Kanten benutzt werden, aber dies schränkt die Möglichkeiten,
den anhängigen Text in eine lesbare Form zu bringen, zu stark ein. Es ist schlicht zu viel
Textinformation, um mit einer Legende o.Ä. auszukommen.


\section{Vergleich mit klassischen Tests}\label{section:testcomparisonclassic}

Ein Vergleich mit halbautomatischen Methoden oder gewöhnlichen Unit-Tests
ist erst einmal schwierig, da diese auf anderen Prinzipien aufbauen.
Üblicherweise ist das Ziel die Überprüfung der Korrektheit des Programms.
Um eine Aussage über Korrektheit treffen zu können, sind kontextuelle
Informationen über ein Programm bzw. das gewünschte Verhalten notwendig.
Einem vollautomatischen Ansatz stehen diese Informationen schlicht nicht
zur Verfügung. Das hier vorgestellte Konzept ist auch nicht als Ersatz 
klassischer Tests gedacht oder in irgendeiner Form äquivalent.

Getreu dem Zitat von Dijkstra \footnote{ACM Turing Lecture 1972},
nach dem die Abwesenheit von Fehlern nicht bewiesen werden kann,
zielt der Autotester in eine andere Richtung. Es wird versucht, so viele
unerwartete Situationen und resultierende Fehler zu erzeugen, wie
irgendwie möglich. Man kann ihn also als ein Komplement bzw. eine Addition
zu klassischen Tests verstehen bzw. Einsetzen.

Ein Durchlauf des Autotesters ist verglichen mit Unit Tests und den
meisten Regressionstests sehr langsam. Ein vollständiger Durchlauf
über FirstSpirit dauert ungefähr 20 Minuten. Leider gibt es für die
Emulation menschlicher Eingaben und der Wartezeit für die Verarbeitung
dieser Eingaben durch das Programm keine guten Alternativen.
Man bedenke allerdings: Derselbe Test durch einen Menschen würde
noch erheblich länger dauern und die üblichen menschlichen Fehlerquellen
beinhalten, die das Ergebnis zusätzlich beeinflussen.
